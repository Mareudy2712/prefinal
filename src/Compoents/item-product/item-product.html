<div
  class="relative bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden transition-transform duration-300 hover:scale-[1.02]"
>
  <div
    class="flex flex-col bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition hover:shadow-lg"
  >
    <div class="relative w-full h-48">
      <img
        [src]="product_item.thumbnail"
        [alt]="product_item.title"
        class="w-full h-full object-cover"
      />

      <span
        *ngIf="product_item.discountPercentage"
        class="absolute top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded shadow"
      >
        -{{ product_item.discountPercentage }}%
      </span>
    </div>

    <div class="p-4 flex flex-col flex-1 justify-between">
      <h2
        class="text-lg font-semibold text-gray-800 dark:text-gray-100 truncate"
        title="{{ product_item.title }}"
      >
        {{ product_item.title }}
      </h2>

      <div class="mt-2 flex items-center space-x-2">
        <span class="text-xl font-bold text-blue-700 dark:text-blue-400">
          ${{ product_item.price }}
        </span>
        <span
          *ngIf="product_item.discountPercentage"
          class="line-through text-sm text-gray-500 dark:text-gray-400"
        >
          ${{ product_item.price / (1 - product_item.discountPercentage / 100) | number : '1.2-2' }}
        </span>
      </div>

      <div class="flex items-center space-x-3 mt-3">
        <button
          (click)="onDecrease()"
          class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition"
          [disabled]="product_item.addcart === 0"
          aria-label="Decrease quantity"
        >
          -
        </button>
        <span class="px-4 py-1 border rounded dark:border-gray-600 min-w-[40px] text-center">
          {{ product_item.addcart }}
        </span>
        <button
          (click)="onIncrease()"
          class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition"
          aria-label="Increase quantity"
        >
          +
        </button>
      </div>

      <div class="relative mt-3">
        <button
          (click)="onIncrease()"
          class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-semibold rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition"
        >
          Add to cart
        </button>

        <span
          *ngIf="product_item.addcart > 0"
          class="absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center font-bold rounded-full shadow-md"
        >
          {{ product_item.addcart }}
        </span>
      </div>
    </div>
  </div>
</div>
